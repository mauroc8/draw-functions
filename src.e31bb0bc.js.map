{"version":3,"sources":["graph.js","index.js","C:/Users/Usuario/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/bundle-url.js","C:/Users/Usuario/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["Graph","canvas","document","createElement","cx","getContext","appendChild","offset","x","y","scale","drawGraph","attr","_","value","height","viewportY","Number","getAttribute","width","drawGrid","drawAxis","drawFunction","lowerBound","viewportToWorld","upperBound","beginPath","worldToViewport","Math","floor","moveTo","lineTo","viewportX","lerp","a","b","t","opacity","strokeStyle","stroke","axisCenter","functionName","functionColor","fn","Function","lastViewportY","isOutOfBounds","lineWidth","HTMLElement","app","Elm","Main","init","node","getElementById","flags","firstInputValue","localStorage","getItem","secondInputValue","window","customElements","define","ports","saveFirstInputValue","subscribe","setItem","saveSecondInputValue","addEventListener","event","onTouchEnd","send","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["export default class Graph extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n\r\n        this.canvas = document.createElement(\"canvas\");\r\n\r\n        this.cx = this.canvas.getContext(\"2d\");\r\n\r\n        this.appendChild(this.canvas);\r\n\r\n        this.offset = { x: 60.5, y: 60.5 };\r\n        this.scale = { x: 20, y: 20 };\r\n    }\r\n\r\n    // Lyfecycle events\r\n\r\n    connectedCallback() {\r\n        this.drawGraph();\r\n    }\r\n\r\n    attributeChangedCallback(attr, _, value) {\r\n        this.drawGraph();\r\n    }\r\n\r\n    static get observedAttributes() {\r\n        return [\r\n            \"first-function\",\r\n            \"second-function\",\r\n            \"width\",\r\n            \"height\",\r\n            \"offset-x\",\r\n            \"offset-y\",\r\n            \"scale-x\",\r\n            \"scale-y\",\r\n        ];\r\n    }\r\n\r\n    // Math stuff\r\n\r\n    viewportToWorld({ x, y }) {\r\n        return {\r\n            x: (x - this.offset.x) / this.scale.x,\r\n            y: (this.height - y - this.offset.y) / this.scale.y,\r\n        };\r\n    }\r\n\r\n    worldToViewport({ x, y }) {\r\n        return {\r\n            x: x * this.scale.x + this.offset.x,\r\n            y: this.height - (y * this.scale.y + this.offset.y),\r\n        };\r\n    }\r\n\r\n    isOutOfBounds(viewportY) {\r\n        return viewportY < 0 || viewportY > this.height;\r\n    }\r\n\r\n    // Draw methods\r\n\r\n    drawGraph() {\r\n        //console.time(\"draw\");\r\n\r\n        // Update attributes\r\n\r\n        this.offset = {\r\n            x: (Number(this.getAttribute(\"offset-x\")) || 60) + 0.5,\r\n            y: (Number(this.getAttribute(\"offset-y\")) || 60) + 0.5,\r\n        };\r\n\r\n        this.scale = {\r\n            x: Number(this.getAttribute(\"scale-x\")) || 20,\r\n            y: Number(this.getAttribute(\"scale-y\")) || 20,\r\n        };\r\n\r\n        this.canvas.width = this.width = Number(this.getAttribute(\"width\"));\r\n\r\n        this.canvas.height = this.height = Number(this.getAttribute(\"height\"));\r\n\r\n        // Note: No need to cx.clearRect() because changing canvas' width automatically does that.\r\n\r\n        this.drawGrid();\r\n\r\n        this.drawAxis();\r\n\r\n        // The color is equivalent to tailwind's text-green-500\r\n        this.drawFunction(\"second-function\", \"#48bb78\");\r\n\r\n        // The color is equivalent to tailwind's text-blue-500\r\n        this.drawFunction(\"first-function\", \"#4299e1\");\r\n\r\n        //console.timeEnd(\"draw\");\r\n    }\r\n\r\n    drawGrid() {\r\n        let { cx, width, height } = this;\r\n\r\n        // Drawing bounds, ie. the lower and higher positions in world space that we care to draw\r\n\r\n        let lowerBound = this.viewportToWorld({ x: 0, y: this.height });\r\n\r\n        let upperBound = this.viewportToWorld({ x: this.width, y: 0 });\r\n\r\n        cx.beginPath();\r\n\r\n        for (let y = lowerBound.y; y < upperBound.y + 1; y += 1) {\r\n            const viewportY = this.worldToViewport({\r\n                x: 0,\r\n                y: Math.floor(y),\r\n            }).y;\r\n\r\n            if (viewportY === 0) continue;\r\n\r\n            cx.moveTo(0, viewportY);\r\n            cx.lineTo(width, viewportY);\r\n        }\r\n\r\n        for (let x = lowerBound.x; x < upperBound.x + 1; x += 1) {\r\n            const viewportX = this.worldToViewport({\r\n                x: Math.floor(x),\r\n                y: 0,\r\n            }).x;\r\n\r\n            if (viewportX === 0) continue;\r\n\r\n            cx.moveTo(viewportX, 0);\r\n            cx.lineTo(viewportX, height);\r\n        }\r\n\r\n        /* We make the grid more invisible when the scale is lower.\r\n           Otherwise we'd get a lot of visual noise from the grid lines.\r\n        */\r\n\r\n        const lerp = (a, b, t) => {\r\n            // Clamp between 0 and 1\r\n            t = t > 1 ? 1 : t < 0 ? 0 : t;\r\n\r\n            return (1 - t) * a + b * t;\r\n        };\r\n\r\n        // When scale is 0, opacity is 0.01\r\n        // When scale is 100, opacity is 0.1\r\n\r\n        const opacity = lerp(0.01, 0.1, this.scale.x / 100);\r\n\r\n        cx.strokeStyle = `rgba(0, 0, 0, ${opacity})`;\r\n\r\n        cx.stroke();\r\n    }\r\n\r\n    drawAxis() {\r\n        let axisCenter = this.worldToViewport({ x: 0, y: 0 });\r\n\r\n        let cx = this.cx;\r\n\r\n        cx.beginPath();\r\n\r\n        cx.moveTo(0, axisCenter.y);\r\n        cx.lineTo(this.width, axisCenter.y);\r\n\r\n        cx.moveTo(axisCenter.x, 0);\r\n        cx.lineTo(axisCenter.x, this.height);\r\n\r\n        cx.strokeStyle = \"#bbb\";\r\n\r\n        cx.stroke();\r\n    }\r\n\r\n    drawFunction(functionName, functionColor) {\r\n        let cx = this.cx;\r\n\r\n        // THIS is awkard to some people. It's basically making an `eval`\r\n        // BUT it's the fastest way possible.\r\n        // Consider we need to evaluate the expression ~1024 times each redraw (if the screen is big enough).\r\n        // (And having faster redraws allows us to do fancy animations!)\r\n\r\n        let fn = new Function(\"x\", \"return \" + this.getAttribute(functionName));\r\n\r\n        let width = this.width;\r\n\r\n        cx.beginPath();\r\n\r\n        let lastViewportY = 0;\r\n\r\n        for (let viewportX = 0; viewportX < width; viewportX++) {\r\n            let x = this.viewportToWorld({ x: viewportX, y: 0 }).x;\r\n\r\n            let y = fn(x);\r\n\r\n            let viewportY = this.worldToViewport({ x: 0, y: y }).y;\r\n\r\n            if (\r\n                viewportX === 0 ||\r\n                (this.isOutOfBounds(lastViewportY) &&\r\n                    this.isOutOfBounds(viewportY))\r\n            ) {\r\n                cx.moveTo(viewportX, viewportY);\r\n            } else {\r\n                cx.lineTo(viewportX, viewportY);\r\n            }\r\n\r\n            lastViewportY = viewportY;\r\n        }\r\n\r\n        cx.strokeStyle = functionColor;\r\n\r\n        cx.lineWidth = 1;\r\n\r\n        cx.stroke();\r\n    }\r\n}\r\n","import { Elm } from \"./Main.elm\";\r\n\r\nimport Graph from \"./graph.js\";\r\n\r\nimport \"./styles.pcss\";\r\n\r\nconst app = Elm.Main.init({\r\n\tnode: document.getElementById(\"elm-app\"),\r\n\tflags: {\r\n\t\tfirstInputValue: localStorage.getItem(\"firstInputValue\") || \"sin(x)\",\r\n\t\tsecondInputValue: localStorage.getItem(\"secondInputValue\") || \"\",\r\n\t},\r\n});\r\n\r\nwindow.customElements.define(\"graph-element\", Graph);\r\n\r\napp.ports.saveFirstInputValue.subscribe(function (firstInputValue) {\r\n\tlocalStorage.setItem(\"firstInputValue\", firstInputValue);\r\n});\r\n\r\napp.ports.saveSecondInputValue.subscribe(function (secondInputValue) {\r\n\tlocalStorage.setItem(\"secondInputValue\", secondInputValue);\r\n});\r\n\r\nwindow.addEventListener(\"touchend\", function (event) {\r\n\tapp.ports.onTouchEnd.send(event);\r\n});\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}